# ADR 005: Server-Sent Events (SSE) for Real-Time Feedback

## Status
Accepted

## Context
The React client needs to know when a cabinet door has actually opened or if a hardware error occurred during a cabinet access request. Since the hardware communication is asynchronous (via RabbitMQ), the API cannot return a standard HTTP 200 OK with the final result immediately.

## Decision
We will use **Server-Sent Events (SSE)** for pushing state changes from the API to the Client.

1.  Client sends HTTP POST to request cabinet door access.
2.  API acknowledges receipt (HTTP 202 Accepted) and processes via Outbox.
3.  When the Hardware Mock processes the message, it updates the state.
4.  The API pushes the state change (e.g., `DoorOpened`, `AccessDenied`) to the specific client via an established SSE connection.

## Consequences
* **Positive:** Provides a snappy, "real-time" feel to the user interface without constant polling.
* **Positive:** Simpler to implement than full WebSockets for unidirectional (Server -> Client) updates.
* **Negative:** Requires maintaining persistent connections, which can consume server resources if the user count scales massively (though manageable for 10 gyms).